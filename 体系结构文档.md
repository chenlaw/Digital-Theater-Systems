# 软件体系结构文档模板

## 文档修改历史

| 修改人员 | 日期      | 修改原因                 | 版本号 |
| :------: | --------- | ------------------------ | ------ |
|   陈立   | 2019.4.11 | 初始化，到具体类图，停止 | V0.1   |
|     翁溥鸿     | 2019.4.19          |            增加大部分内容              |  v0.3      |

## 目录



## 引言

### 编制目的

本报告详细完成对电影院系统的概要设计，达到指导详细设计和开发的目的，同时实现和测试人员及用户的沟通。本报告面向开发人员、测试人员及最终用户而编写，是了解系统的导航。



### 词汇表

| 词汇名称 | 词汇含义 | 备注 |
| :------: | -------- | ---- |
|    DTS    |     电子影院系统     |    无  |



### 参考资料

1. 电子影院系统用例文档 
2. 电子影院系统软件需求规格说明文档 

## 产品概述

一个用于电影院智能管理的系统，参考电子影院系统用例文档和电子影院系统软件需求规格说明文档中对产品的概括描述。 

## 逻辑视图

电子影院系统中，选择了分层体系结构风格，将系统分为 3 层（展示层、业务逻辑层、数据层）能够很好地示意整个高层抽象。展示层包含 GUI 页面的实现，业务逻辑层包含业务逻辑处理的实现，数据层负责数据的持久化和访问。分层体系结构的逻辑视角和逻辑设计方案如图 1和图 2 所示。

![](https://github.com/chenlaw/Digital-Theater-Systems/blob/master/bao/0.png)

![](https://github.com/chenlaw/Digital-Theater-Systems/blob/master/bao/1.png)

## **组合视图**

### **开发包图**

电子影院系统的最终开发包图设计如表1所示。

**表1 电子影院系统的最终开发包图设计**

| **开发包**                | **依赖的其他开发包**                                         |
| :------------------------ | ------------------------------------------------------------ |
| mainui                    | userui、filmui、filmarrangeui、VIPcardui、orderui、salespromotionui |
| userui                    | userblservice、界面类库包、vo                                |
| userblservice             | vo                                                           |
| userbl                    | userblservice、userdataservice、po、datafactoryservice       |
| userdataservice           | webservice、po                                               |
| userdata                  | databaseutility、userdataservice、po                         |
| filmui                    | filmblservice、界面类库包、vo                                |
| filmblservice             | vo                                                           |
| filmbl                    | filmblservice、filmdataservice、po、userbl、datafactoryservice |
| filmdataservice           | filmservice、po                                              |
| filmdata                  | databaseutility、filmdataservice、po                         |
| filmarrangeui             | filmarrangeblservice、界面类库包、vo                         |
| filmarrangeblservice      | vo                                                           |
| filmarrangebl             | filmarrangeblservice、filmarrangedataservice、po、userbl、datafactoryservice |
| filmarrangedataservice    | webservice、po                                               |
| filmarrangedata           | databaseutility、filmarrangedataservice、po                  |
| VIPcardui                 | VIPcardblservice、界面类库包、vo                             |
| VIPcardblservice          | vo                                                           |
| VIPcardbl                 | VIPcardblservice、VIPcarddataservice、po、userbl、datafactoryservice |
| VIPcarddataservice        | webservice、po                                               |
| VIPcarddata               | databaseutility、VIPcarddataservice、po                      |
| orderui                   | orderblservice、界面类库包、vo                               |
| orderblservice            | vo                                                           |
| orderbl                   | orderblservice、orderdataservice、po、userbl、VIPcardbl、salespromotionbl、datafactoryservice |
| orderdataservice          | webservice、po                                               |
| orderdata                 | databaseutility、orderdataservice、po                        |
| salespromotionui          | salespromotionblservice、界面类库包、vo                      |
| salespromotionblservice   | vo                                                           |
| salespromotionbl          | salespromotionblservice、salespromotiondataservice、po、userbl、datafactoryservice |
| salespromotiondataservice | webservice、po                                               |
| salespromotiondata        | databaseutility、salespromotiondataservice、po               |
| datafactoryservice        | webservice、po                                               |
| datafactory               | datafactoryservice、po                                       |
| vo                        |                                                              |
| po                        |                                                              |
| utilitybl                 | vo                                                           |
| 界面类库包                |                                                              |
| webservice                |                                                              |
| databaseutility           | odbc,po                                                      |

电子影院系统客户端开发包图如图3所示，服务器端开发包图如图4所示。

![](https://github.com/chenlaw/Digital-Theater-Systems/blob/master/bao/2.png)

### 运行时进程

在电子影院管理系统中，会有多个客户端进程和一个服务器端进程，其进程图如图5所示。结合部署图，客户端进程是在客户机上运行，服务器端进程在服务器端机器上运行。

![](https://github.com/chenlaw/Digital-Theater-Systems/blob/master/bao/3.png)


### 物理部署

电子影院系统采用B/S结构（Browser/Server，浏览器/服务器模式），客户机上只要安装一个浏览器（Browser），如Netscape Navigator或Internet Explorer，服务器安装SQL Server、Oracle、MYSQL等数据库。浏览器通过Web Server 同数据库进行数据交互。

![](https://github.com/chenlaw/Digital-Theater-Systems/blob/master/bao/4.png)

## 架构设计

### 模块职责

客户端模块和服务器端模块视图分别如图7和图8所示。浏览器各层和服务器端各层的职责分别如表2和表3所示。

![]()

**表2 客户端各层的职责**

| 层       | 职责                                 |
| :------- | :----------------------------------- |
| 启动模块 | 负责初始化网络通信机制，启动用户界面 |
| 展示层   | 基于窗口的电子影院浏览器端用户界面   |
| 网络模块 | 利用http协议查找Web服务              |

**表3 服务器端各层的职责**

| 层         | 职责                                         |
| ---------- | -------------------------------------------- |
| 启动模块   | 负责初始化网络通信机制，启动用户界面         |
| 网络模块   | 利用http协议查找Web服务                      |
| 业务逻辑层 | 对于用户界面的输入进行响应并进行业务处理逻辑 |
| 数据层     | 负责数据的持久化及数据访问接口               |

每一层只是使用下方直接接触的层。层与层之间仅仅是通过接口的调用来完成的。层之间的接口如表4所示。

**表3 层之间的接口调用**

| 接口                      | 服务调用方       | 服务提供方       |
| :------------------------ | :--------------- | :--------------- |
| userblservice             | 客户端展示层     | 客户端业务逻辑层 |
| filmblservice             |                  |                  |
| filmarrangeblservice      |                  |                  |
| VIPcardblservice          |                  |                  |
| orderblservice            |                  |                  |
| salespromotionblservice   |                  |                  |
| userdataservice           | 客户端业务逻辑层 | 客户端数据层     |
| filmdataservice           |                  |                  |
| filmarrangedataservice    |                  |                  |
| VIPcarddataservice        |                  |                  |
| orderdataservice          |                  |                  |
| salespromotiondataservice |                  |                  |
| datafactoryservice        |                  |                  |

### 用户界面层分解

#### 职责

- 类图
- 接口规范
- 需要的服务接口

|         服务名         | 服务                   |
| :--------------------: | ---------------------- |
| blservice.loginservice | 登录界面的业务逻辑接口 |



#### 接口规范

| 接口名 | 语法         |
| ------ | :----------- |
|        | **前置条件** |
|        | **后置条件** |

### 业务逻辑层分解

#### 职责

#### 接口规范



### 数据层分解

#### 职责

#### 接口规范



### 信息视角

- 描述数据持久化对象(PO)
  - 属性及其定义
  - 类型
