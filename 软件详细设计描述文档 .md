# 电子影院系统（DTS）软件详细设计描述文档

## 1. 引言

### 1.1 编制目的

​	本报告详细完成对电子影院系统的详细设计，达到指导后续软件构造的目的，同时实现和测试人员及用户的沟通。

​	本报告面向开发人员、测试人员及最终用户而编写，是了解系统的导航。

### 1.2 词汇表

| 词汇名称 | 词汇含义 | 备注 |
| :-: | :-: | :-: |
| DTS | 电子影院系统 | …… |
| …… | …… | …… |

### 1.3 参考资料



## 2. 产品描述

​	参考电子影院系统用例文档和电子影院系统软件需求规格说明文档中对产品的概括描述。



## 3. 系统结构设计概述

​	参考电子影院管理系统概要设计文档中对体系结构设计的概述。



## 4. 结构视角

### 4.1 业务逻辑层的分解

​	业务逻辑层的开发包图参见软件体系结构文档图4。

#### 4.1.4 FilmArrangebl模块

(1) 模块概述

FilmArrangebl模块承担的需求参见需求规格说明文档功能需求及相关非功能需求。

FilmArrangebl模块的职责及接口参见软件系统结构设计文档。

(2) 整体结构

![](47.111.9.220:8080/photos/details/Arrangeclass.png)

Arrangebl模块各个类的职责  

|     模块     |          职责          |
| :----------: | :--------------------: |
|   Arrange    |   负责排片信息的管理   |
|    FilmBl    |   接口，负责标记电影   |
| UserIdentity | 接口，负责获取身份信息 |

(3) 模块内部类的接口规范

##### 5.3.2.4 FilmArrangebl模块的接口规范如下表所示。

​                                                                      表5-3-2-4 FilmArrangebl模块的接口规范

| **提供的服务（供接口）**                                     |                                 |                                                              |
| ------------------------------------------------------------ | ------------------------------- | ------------------------------------------------------------ |
|                                                              | 语法                            | public ResultMessage add(FilmArrangeVO vo)                   |
| FilmArrange.add                                              | 前置条件                        | 用户具有对应权限，提交的排片信息合法                         |
|                                                              | 后置条件                        | 系统持久化存储订单数据                                       |
|                                                              | 语法                            | public ArrayList<FilmArranges> showArranges(Date date，String movieHall，Enum visualAngle) |
| FilmArrange.showFilmArranges                                 | 前置条件                        | 用户具有对应权限，选择安排的日期，影厅和视角                 |
|                                                              | 后置条件                        | 系统返回对应的影片安排                                       |
|                                                              | 语法                            | public ResultMessage setVisibleTime(Date time)               |
| FilmArrange.setVisibleTime                                   | 前置条件                        | 用户具有对应权限，输入日期                                   |
|                                                              | 后置条件                        | 系统返回设置结果                                             |
|                                                              | 语法                            | public ResultMessage setVisibleTime(Date time)               |
| FilmArrange.changeVisibleTime                                | 前置条件                        | 用户具有对应权限，输入日期                                   |
|                                                              | 后置条件                        | 系统返回修改结果                                             |
|                                                              | 语法                            | public ResultMessage deleteFilmArrange(Date time)            |
| FilmArrange.deleteFilmArrange                                | 前置条件                        | 用户具有相应权限，选择对应时间段的排片进行删除               |
|                                                              | 后置条件                        | 系统返回修改结果                                             |
|                                                              | 语法                            | public ResultMessage changeFilmArrange(FilmArrangeVo arrange) |
| FilmArrange.changeFilmArrange                                | 前置条件                        | 用户具有相应权限，选择对应时间段的排片进行删除               |
| 需要的服务（需接口）                                         |                                 |                                                              |
| ------------------------------------------------------------ | ------------------------------- |                                                              |
| FilmArrangeDataService.insert(FilmArrangePO po)              | 插入FilmArrangePO单一持久化对象 |                                                              |
| FilmArrangeDataService.delete(long FilmArrangeID)            | 删除FilmArrangePO单一持久化对象 |                                                              |
| FilmArrangeDataService.findByMovie(String movie )            | 查找FilmArrangePO单一持久化对象 |                                                              |
| FilmArrangeDataService.find(Date date,String hall ,String movie) | 查找FilmArrangePO单一持久化对象 |                                                              |
| FilmArrangeDataService.update(FilmArrangePO po)              | 更新FilmArrangePO单一持久化对象 |                                                              |

(4) 业务逻辑层的动态模型

![](47.111.9.220:8080/photos/details/Arrange1.png)

![](47.111.9.220:8080/photos/details/Arrange2.png)

![](47.111.9.220:8080/photos/details/Arrange.png)

(5) 业务逻辑层的设计原理

委托式控制风格，每个界面需要访问的业务逻辑由各自的控制器委托给不同的对象  

## 5. 依赖视角
